{% extends 'peso_base.html' %}

{% block content %}
<style>
  /* Initial iframe size */

.swal2-container {
z-index: 2060; /* Adjust the z-index value as needed */

.loader {
border: 4px solid #f3f3f3; /* Light grey */
border-top: 4px solid #3498db; /* Blue */
border-radius: 50%;
width: 30px;
height: 30px;
animation: spin 2s linear infinite;
position: fixed;
top: 50%;
left: 50%;
margin-top: -15px; /* Half of width */
margin-left: -15px; /* Half of height */
z-index: 9999; /* Make sure it appears above everything */
}

@keyframes spin {
0% { transform: rotate(0deg); }
100% { transform: rotate(360deg); }
}
}


</style>
  <script src="static/admin_assets/vendor/js/helpers.js"></script>
  <link rel="stylesheet" href="static/sweetalert2.min.css">

  <!--! Template customizer & Theme config files MUST be included after core stylesheets and helpers.js in the <head> section -->
  <!--? Config:  Mandatory theme config file contain global vars & default theme options, Set your preferred theme option in this file.  -->
  <script src="static/admin_assets/js/config.js"></script>
  <body>
    <script src="static/sweetalert2@11.js"></script>
    <!-- Layout wrapper -->
    <div class="layout-wrapper layout-content-navbar">
      <div class="layout-container">
        <!-- Menu -->

        <aside id="layout-menu" class="layout-menu menu-vertical menu bg-menu-theme">
          <div class="app-brand demo">
            <a href="/peso_dashboard" class="app-brand-link">
              <span class="app-brand-text demo menu-text fw-bolder ms-2">PilaHunt</span>
            </a>

            <a href="javascript:void(0);" class="layout-menu-toggle menu-link text-large ms-auto d-block d-xl-none">
              <i class="bx bx-chevron-left bx-sm align-middle"></i>
            </a>
          </div>

          <div class="menu-inner-shadow"></div>

          <ul class="menu-inner py-1">
            <!-- Dashboard -->
            <li class="menu-item">
              <a href="/peso_dashboard" class="menu-link">
                <i class="menu-icon tf-icons bx bx-home-circle"></i>
                <div data-i18n="Analytics">Dashboard</div>
              </a>
            </li>

            <li class="menu-item">
              <a href="/applicant_lists" class="menu-link">
                <i class="menu-icon tf-icons bx bx-user"></i>
                <div data-i18n="Tables">Applicants</div>
              </a>
            </li>
  
            <li class="menu-item">
              <a href="javascript:void(0);" class="menu-link menu-toggle">
                <i class="menu-icon tf-icons bx bx-store"></i>
                <div data-i18n="Form Elements">Employers</div>
              </a>
              <ul class="menu-sub">
                <li class="menu-item">
                  <a href="/employer_list" class="menu-link">
                    <div data-i18n="Basic Inputs">Employer Lists</div>
                  </a>
                </li>
                <li class="menu-item">
                  <a href="/approval_request" class="menu-link">
                    <div data-i18n="Input groups">Approval Requests</div>
                  </a>
                </li>
                <li class="menu-item ">
                  <a href="/rejected_request" class="menu-link">
                    <div data-i18n="Input groups">Rejected Requests</div>
                  </a>
                </li>
              </ul>
            </li>   

            <li class="menu-item active open">
              <a href="javascript:void(0);" class="menu-link menu-toggle">
                <i class="menu-icon tf-icons bx bx-detail"></i>
                <div data-i18n="Form Layouts">SPES</div>
              </a>
              <ul class="menu-sub">
                <li class="menu-item">
                  <a href="/spes_members" class="menu-link">
                    <div data-i18n="Vertical Form">SPES Members</div>
                  </a>
                </li>
                <li class="menu-item active">
                  <a href="/spes_applicants" class="menu-link">
                    <div data-i18n="Horizontal Form">SPES Applicants </div>
                  </a>
                </li>
              </ul>
            </li>
            <!-- Tables -->
         
           
        </aside>
        <!-- / Menu -->

        <!-- Layout container -->
        <div class="layout-page">
          <!-- Navbar -->

          <nav
            class="layout-navbar container-xxl navbar navbar-expand-xl navbar-detached align-items-center bg-navbar-theme"
            id="layout-navbar"
          >
            <div class="layout-menu-toggle navbar-nav align-items-xl-center me-3 me-xl-0 d-xl-none">
              <a class="nav-item nav-link px-0 me-xl-4" href="javascript:void(0)">
                <i class="bx bx-menu bx-sm"></i>
              </a>
            </div>

            <div class="navbar-nav-right d-flex align-items-center" id="navbar-collapse">
              <!-- Search -->
              <div class="navbar-nav align-items-center">
                <div class="nav-item d-flex align-items-center">
                  <i class="bx bx-search fs-4 lh-0"></i>
                  <input
                    type="text"
                    class="form-control border-0 shadow-none"
                    placeholder="Search..."
                    aria-label="Search..."
                  />
                </div>
              </div>
              <!-- /Search -->

              <ul class="navbar-nav flex-row align-items-center ms-auto">
                <!-- Place this tag where you want the button to render. -->
                <li class="nav-item lh-1 me-3">

                </li>

                <!-- User -->
                <li class="nav-item navbar-dropdown dropdown-user dropdown">
                  <a class="nav-link dropdown-toggle hide-arrow" href="javascript:void(0);" data-bs-toggle="dropdown">
                    <div class="avatar avatar-online">
                      <img src="../assets/img/avatars/1.png" alt class="w-px-40 h-auto rounded-circle" />
                    </div>
                  </a>
                  <ul class="dropdown-menu dropdown-menu-end">
                    <li>
                      <a class="dropdown-item" href="#">
                        <div class="d-flex">
                          <div class="flex-shrink-0 me-3">
                            <div class="avatar avatar-online">
                              <img src="../assets/img/avatars/1.png" alt class="w-px-40 h-auto rounded-circle" />
                            </div>
                          </div>
                          <div class="flex-grow-1">
                            <span class="fw-semibold d-block">John Doe</span>
                            <small class="text-muted">Admin</small>
                          </div>
                        </div>
                      </a>
                    </li>
                    <li>
                      <div class="dropdown-divider"></div>
                    </li>
                    <li>
                      <a class="dropdown-item" href="#">
                        <i class="bx bx-user me-2"></i>
                        <span class="align-middle">My Profile</span>
                      </a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="#">
                        <i class="bx bx-cog me-2"></i>
                        <span class="align-middle">Settings</span>
                      </a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="#">
                        <span class="d-flex align-items-center align-middle">
                          <i class="flex-shrink-0 bx bx-credit-card me-2"></i>
                          <span class="flex-grow-1 align-middle">Billing</span>
                          <span class="flex-shrink-0 badge badge-center rounded-pill bg-danger w-px-20 h-px-20">4</span>
                        </span>
                      </a>
                    </li>
                    <li>
                      <div class="dropdown-divider"></div>
                    </li>
                    <li>
                      <a class="dropdown-item" href="auth-login-basic.html">
                        <i class="bx bx-power-off me-2"></i>
                        <span class="align-middle">Log Out</span>
                      </a>
                    </li>
                  </ul>
                </li>
                <!--/ User -->
              </ul>
            </div>
          </nav>

          <!-- / Navbar -->

          <!-- Content wrapper -->
          <div class="content-wrapper">
            <!-- Content -->

            <div class="container-xxl flex-grow-1 container-p-y">
              <div class="card">
                <h5 class="card-header">Applicant Lists</h5>
                <div class="table-responsive text-nowrap">
                  <table class="table table-hover">
                    <thead class="table-light">
                      <div class="table-responsive text-nowrap">
                        <table class="table table-hover">
                          <thead class="table-light">
                              <tr>
                                  <th>Full name</th>
                                  <th>Email</th>
                                  <th>Address</th>
                                  <th>Contact</th>
                                  <th>Action</th>
                              </tr>
                          </thead>
                          <tbody class="table-border-bottom-0">
                              {% for application in spesapplications %}
                              <tr data-application-id="{{ application.spes_id }}" data-application-status="{{ application.spes_application_status }}" data-mofirstname="{{ application.spes_mofirstname }}" data-momiddlename="{{ application.spes_momiddlename }}" data-molastname="{{ application.spes_molastname }}"  data-mocontact="{{ application.spes_mocontact }}" data-fafirstname="{{ application.spes_fafirstname }}" data-famiddlename="{{ application.spes_famiddlename }}" data-falastname="{{ application.spes_falastname }}" data-facontact="{{ application.spes_facontact }}" data-elemschool="{{ application.spes_elemschool }}" data-elemgrad="{{ application.spes_elemgrad }}" data-jungrad="{{ application.spes_jungrad }}" data-junschool="{{ application.spes_junschool }}" data-senschool="{{ application.spes_senschool }}" data-strand="{{ application.spes_strand }}" data-sengrad="{{ application.spes_sengrad }}" data-colschool="{{ application.spes_colschool }}" data-course="{{ application.spes_course }}" data-colgrad="{{ application.spes_colgrad }}" data-parentstatus="{{ application.spes_parent_status }}" data-spestype="{{ application.spes_spestype }}"  data-spescivil="{{ application.spes_civil }}" data-gender="{{ application.spes_gender }}" data-lastname="{{ application.spes_lastname }}" data-birthday="{{ application.spes_birthday }}" data-middlename="{{ application.spes_middlename }}"   data-firstname="{{ application.spes_firstname }}" data-email="{{ application.spes_email }}" data-address="{{ application.spes_address }}" data-contact="{{ application.spes_phoneno }}" data-resume="{{ base64.b64encode(application.resume).decode('utf-8') }}" data-birth-certificate="{{ base64.b64encode(application.birth_certificate).decode('utf-8') }}" data-grades="{{ base64.b64encode(application.grades).decode('utf-8') }}">
                                  <td>{{ application.spes_firstname }}   {{ application.spes_middlename }}  {{ application.spes_lastname }}</td>
                                  <td>{{ application.spes_email }}</td>
                                  <td>{{ application.spes_address }}</td>
                                  <td>{{ application.spes_phoneno }}</td>
                                  <td>
                                      <button 
                                          data-bs-toggle="modal" 
                                          data-bs-target="#exLargeModal" 
                                          type="button" 
                                          class="btn btn-primary view-details"
                                          
                                      >
                                          View more
                                      </button>
                                  </td>
                              </tr>
                              {% endfor %}
                          </tbody>
                      </table>
                      
                      <!-- Modal -->
                      <div class="modal fade" id="exLargeModal" tabindex="-1" aria-labelledby="exLargeModalLabel" aria-hidden="true">
                          <div class="modal-dialog modal-dialog-scrollable modal-xl">
                              <div class="modal-content">
                                  <div class="modal-header">
                                      <h5 class="modal-title" id="exLargeModalLabel">Applicant Details</h5>
                                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                  </div>
                                  <div class="modal-body">
                                    <div class="row">
                                      <div class="col-md-4">
                                      <!-- Full Name -->
                                        <div class="mb-2">
                                            <label class="form-label" for="basic-icon-default-firstname">First Name</label>
                                            <div class="input-group input-group-merge">
                                                <span id="basic-icon-default-firstname-icon" class="input-group-text"><i class="bx bx-user"></i></span>
                                                <input 
                                                    type="text"
                                                    class="form-control"
                                                    id="basic-icon-default-firstname"
                                                    disabled
                                                    aria-describedby="basic-icon-default-firstname"
                                                />
                                            </div>
                                        </div>

                                      
                                
                                      <!-- Phone No -->
                                        <div class="mb-2">
                                            <label class="form-label" for="basic-icon-default-phone">Phone No</label>
                                            <div class="input-group input-group-merge">
                                                <span id="basic-icon-default-phone2" class="input-group-text"><i class="bx bx-phone"></i></span>
                                                <input
                                                    type="text"
                                                    id="basic-icon-default-phone"
                                                    class="form-control phone-mask"
                                                    disabled
                                                    aria-describedby="basic-icon-default-phone2"
                                                />
                                            </div>
                                        </div>
                                      <!-- Address -->
                                  

                                        <div class="mb-2">
                                          <label class="form-label" for="basic-icon-default-spescivil">Civil Status</label>
                                          <div class="input-group input-group-merge">
                                              <span id="basic-icon-default-spescivil-icon" class="input-group-text"><i class='bx bx-group'></i></span>
                                              <input
                                                  type="text"
                                                  id="basic-icon-default-spescivil"
                                                  class="form-control phone-mask"
                                                  disabled
                                                  aria-describedby="basic-icon-default-spescivil"
                                              />
                                          </div>
                                      </div>

                                      <div class="mb-2">
                                        <label class="form-label" for="basic-icon-default-parentstat">Parent Status</label>
                                        <div class="input-group input-group-merge">
                                            <span id="basic-icon-default-parentstat-icon" class="input-group-text"><i class='bx bx-group' ></i></span>
                                            <input
                                                type="text"
                                                id="basic-icon-default-parentstat"
                                                class="form-control phone-mask"
                                                disabled
                                                aria-describedby="basic-icon-default-parentstat"
                                            />
                                          </div>
                                      </div>

                                      <div class="mb-2"><hr>
                                        <label class="" for=""></label>
                                        <div class="">
                                            <span id="" class=""></span>
                                            <input hidden
  
                                            />
                                        </div>
                                    </div>

                                    <div class="mb-2">
                                      <label class="form-label" for="basic-icon-default-mofirstname">Mother's First name</label>
                                      <div class="input-group input-group-merge">
                                          <span id="basic-icon-default-icon" class="input-group-text"><i class='bx bx-user'></i></span>
                                          <input
                                              type="text"
                                              id="basic-icon-default-mofirstname"
                                              class="form-control phone-mask"
                                              disabled
                                              aria-describedby="basic-icon-default-mofirstname"
                                          />
                                        </div>
                                    </div>

                                    <div class="mb-2">
                                      <label class="form-label" for="basic-icon-default-fafirstname">Father's First name</label>
                                      <div class="input-group input-group-merge">
                                          <span id="basic-icon-default-icon" class="input-group-text"><i class='bx bx-user'></i></span>
                                          <input
                                              type="text"
                                              id="basic-icon-default-fafirstname"
                                              class="form-control phone-mask"
                                              disabled
                                              aria-describedby="basic-icon-default-fafirstname"
                                          />
                                        </div>
                                    </div>


                                    <div class="mb-2"><hr>
                                      <label class="" for=""></label>
                                      <div class="">
                                          <span id="" class=""></span>
                                          <input hidden
  
                                          />
                                        </div>
                                    </div>

                                    <div class="mb-2">
                                      <label class="form-label" for="basic-icon-default-elemschool">Elementary school</label>
                                      <div class="input-group input-group-merge">
                                          <span id="basic-icon-default-icon" class="input-group-text"><i class='bx bx-buildings' ></i></span>
                                          <input
                                              type="text"
                                              id="basic-icon-default-elemschool"
                                              class="form-control phone-mask"
                                              disabled
                                              aria-describedby="basic-icon-default-elemschool"
                                          />
                                        </div>
                                    </div>

                                    <div class="mb-2">
                                      <label class="form-label" for="basic-icon-default-junschool">Junior-high school</label>
                                      <div class="input-group input-group-merge">
                                          <span id="basic-icon-default-icon" class="input-group-text"><i class='bx bx-buildings' ></i></span>
                                          <input
                                              type="text"
                                              id="basic-icon-default-junschool"
                                              class="form-control phone-mask"
                                              disabled
                                              aria-describedby="basic-icon-default-junschool"
                                          />
                                        </div>
                                    </div>

                                    <div class="mb-2">
                                      <label class="form-label" for="basic-icon-default-senschool">Senior-high school</label>
                                      <div class="input-group input-group-merge">
                                          <span id="basic-icon-default-icon" class="input-group-text"><i class='bx bx-buildings' ></i></span>
                                          <input
                                              type="text"
                                              id="basic-icon-default-senschool"
                                              class="form-control phone-mask"
                                              disabled
                                              aria-describedby="basic-icon-default-senschool"
                                          />
                                        </div>
                                    </div>

                                    <div class="mb-2">
                                      <label class="form-label" for="basic-icon-default-colschool">College School/University</label>
                                      <div class="input-group input-group-merge">
                                          <span id="basic-icon-default-icon" class="input-group-text"><i class='bx bx-buildings' ></i></span>
                                          <input
                                              type="text"
                                              id="basic-icon-default-colschool"
                                              class="form-control phone-mask"
                                              disabled
                                              aria-describedby="basic-icon-default-colschool"
                                          />
                                        </div>
                                    </div>

                    

                                  

                                          <!-- Message -->
                                          <!--<div class="mb-2">
                                            <label class="form-label" for="basic-icon-default-message">Message</label>
                                            <div class="input-group input-group-merge">
                                                <span id="basic-icon-default-message2" class="input-group-text"><i class="bx bx-comment"></i></span>
                                                <textarea
                                                    id="basic-icon-default-message"
                                                    class="form-control"
                                                    placeholder="Hi, Do you have a moment to talk Joe?"
                                                    aria-label="Hi, Do you have a moment to talk Joe?"
                                                    aria-describedby="basic-icon-default-message2"
                                                ></textarea>
                                            </div>
                                        </div>-->
                                      </div>
                                       


                                          <!--2nd row -->
                               
                                        <div class="col-md-4">
                                            <div class="mb-2">
                                                <label class="form-label" for="basic-icon-default-middlename">Middle Name</label>
                                                <div class="input-group input-group-merge">
                                                    <span id="basic-icon-default-middlename-icon" class="input-group-text"><i class="bx bx-user"></i></span>
                                                    <input 
                                                        type="text"
                                                        class="form-control"
                                                        id="basic-icon-default-middlename"
                                                        disabled
                                                        aria-describedby="basic-icon-default-middlename"
                                                    />
                                                </div>
                                            </div>

                                            <div class="mb-2">
                                              <label class="form-label" for="basic-icon-default-email">Email</label>
                                              <div class="input-group input-group-merge">
                                                  <span class="input-group-text"><i class="bx bx-envelope"></i></span>
                                                  <input
                                                      type="text"
                                                      id="basic-icon-default-email"
                                                      class="form-control"
                                                      disabled
                                                      aria-describedby="basic-icon-default-email2"
                                                  />
                                              </div>
                                          </div>
                                      
                                          <div class="mb-2">
                                                <label class="form-label" for="basic-icon-default-birthday">Date of birth</label>
                                                <div class="input-group input-group-merge">
                                                    <span class="input-group-text"><i class="bx bx-calendar"></i></span>
                                                    <input
                                                        type="text"
                                                        id="basic-icon-default-birthday"
                                                        class="form-control"
                                                        disabled
                                                        aria-describedby="basic-icon-default-birthday"
                                                    />
                                                </div>
                                            </div>
                                   
                                       
                                 
                                             <div class="mb-2">
                                                <label class="form-label" for="basic-icon-default-spestype">SPES type</label>
                                                <div class="input-group input-group-merge">
                                                    <span id="basic-icon-default-spestype-icon" class="input-group-text"><i class='bx bx-user-check'></i></span>
                                                    <input
                                                        type="text"
                                                        id="basic-icon-default-spestype"
                                                        class="form-control phone-mask"
                                                        disabled
                                                        aria-describedby="basic-icon-default-spestype"
                                                    />
                                                </div>
                                            </div> 

                                            <div class="mb-2"><hr>
                                              <label class="" for=""></label>
                                              <div class="">
                                                  <span id="" class=""></span>
                                                  <input hidden
        
                                                  />
                                              </div>
                                          </div>

                                          <div class="mb-2">
                                            <label class="form-label" for="basic-icon-default-momiddlename">Mother's middle name</label>
                                            <div class="input-group input-group-merge">
                                                <span id="basic-icon-default-icon" class="input-group-text"><i class='bx bx-user'></i></span>
                                                <input
                                                    type="text"
                                                    id="basic-icon-default-momiddlename"
                                                    class="form-control phone-mask"
                                                    disabled
                                                    aria-describedby="basic-icon-default-momiddlename"
                                                />
                                              </div>
                                          </div>

                                          <div class="mb-2">
                                            <label class="form-label" for="basic-icon-default-famiddlename">Father's middle name</label>
                                            <div class="input-group input-group-merge">
                                                <span id="basic-icon-default-icon" class="input-group-text"><i class='bx bx-user'></i></span>
                                                <input
                                                    type="text"
                                                    id="basic-icon-default-famiddlename"
                                                    class="form-control phone-mask"
                                                    disabled
                                                    aria-describedby="basic-icon-default-famiddlename"
                                                />
                                              </div>
                                          </div>

                                          <div class="mb-2"><hr>
                                            <label class="" for=""></label>
                                            <div class="">
                                                <span id="" class=""></span>
                                                <input hidden
        
                                                />
                                            </div>
                                        </div>

                                        <div class="mb-2">
                                          <label class="form-label" for="basic-icon-default-elemgrad">Year Graduated</label>
                                          <div class="input-group input-group-merge">
                                              <span id="basic-icon-default-icon" class="input-group-text"><i class='bx bx-calendar-event'></i></span>
                                              <input
                                                  type="text"
                                                  id="basic-icon-default-elemgrad"
                                                  class="form-control phone-mask"
                                                  disabled
                                                  aria-describedby="basic-icon-default-elemgrad"
                                              />
                                            </div>
                                        </div>

                                        <div class="mb-2">
                                          <label class="form-label" for="basic-icon-default-jungrad">Year Graduated</label>
                                          <div class="input-group input-group-merge">
                                              <span id="basic-icon-default-icon" class="input-group-text"><i class='bx bx-calendar-event'></i></span>
                                              <input
                                                  type="text"
                                                  id="basic-icon-default-jungrad"
                                                  class="form-control phone-mask"
                                                  disabled
                                                  aria-describedby="basic-icon-default-jungrad"
                                              />
                                            </div>
                                        </div>

                                        <div class="mb-2">
                                          <label class="form-label" for="basic-icon-default-sengrad">Year Graduated</label>
                                          <div class="input-group input-group-merge">
                                              <span id="basic-icon-default-icon" class="input-group-text"><i class='bx bx-calendar-event'></i></span>
                                              <input
                                                  type="text"
                                                  id="basic-icon-default-sengrad"
                                                  class="form-control phone-mask"
                                                  disabled
                                                  aria-describedby="basic-icon-default-sengrad"
                                              />
                                            </div>
                                        </div>

                                        <div class="mb-2">
                                          <label class="form-label" for="basic-icon-default-colgrad">Year Graduated</label>
                                          <div class="input-group input-group-merge">
                                              <span id="basic-icon-default-icon" class="input-group-text"><i class='bx bx-calendar-event'></i></span>
                                              <input
                                                  type="text"
                                                  id="basic-icon-default-colgrad"
                                                  class="form-control phone-mask"
                                                  disabled
                                                  aria-describedby="basic-icon-default-colgrad"
                                              />
                                            </div>
                                        </div>

                                            
                                          
                                        
                                     </div>


                                     <!-- 3rd row-->
                                     <div class="col-md-4">
                                      <div class="mb-2">
                                        <label class="form-label" for="basic-icon-default-lastname">Last Name</label>
                                        <div class="input-group input-group-merge">
                                            <span id="basic-icon-default-lastname-icon" class="input-group-text"><i class="bx bx-user"></i></span>
                                            <input 
                                                type="text"
                                                class="form-control"
                                                id="basic-icon-default-lastname"
                                                disabled
                                                aria-describedby="basic-icon-default-lastname"
                                            />
                                        </div>
                                      </div>
                                      
                                      <div class="mb-2">
                                        <label class="form-label" for="basic-icon-default-address">Place of Birth</label>
                                        <div class="input-group input-group-merge">
                                            <span id="basic-icon-default-address-icon" class="input-group-text"><i class='bx bx-pin'></i></span>
                                            <input
                                                type="text"
                                                id="basic-icon-default-address"
                                                class="form-control phone-mask"
                                                disabled
                                                aria-describedby="basic-icon-default-address"
                                            />
                                        </div>
                                    </div>

                                    <div class="mb-2">
                                      <label class="form-label" for="basic-icon-default-gender">Gender</label>
                                      <div class="input-group input-group-merge">
                                          <span id="basic-icon-default-gender-icon" class="input-group-text"><i class='bx bx-body' ></i></span>
                                          <input
                                              type="text"
                                              id="basic-icon-default-gender"
                                              class="form-control phone-mask"
                                              disabled
                                              aria-describedby="basic-icon-default-gender"
                                          />
                                        </div>               
                                    </div>

                                    <div class="mb-2">
                                      <label class="form-label" for="basic-icon-default-">-</label>
                                      <div class="input-group input-group-merge">
                                          <span id="basic-icon-default--icon"> </span>
                                          <input style="color: transparent; background-color: transparent; border: none;"
                                              type="text"
                                              id="basic-icon-default-"
                                              class="form-control phone-mask"
                                              disabled
                                          />
                                        </div>               
                                    </div>

    

                                  <div class="mb-2"><hr>
                                    <label class="" for=""></label>
                                    <div class="">
                                        <span id="" class=""></span>
                                        <input hidden

                                        />
                                    </div>
                                </div>

                                <div class="mb-2">
                                  <label class="form-label" for="basic-icon-default-molastname">Mother's Last name</label>
                                  <div class="input-group input-group-merge">
                                      <span id="basic-icon-default-icon" class="input-group-text"><i class='bx bx-user'></i></span>
                                      <input
                                          type="text"
                                          id="basic-icon-default-molastname"
                                          class="form-control phone-mask"
                                          disabled
                                          aria-describedby="basic-icon-default-molastname"
                                      />
                                    </div>
                                </div>

                                <div class="mb-2">
                                  <label class="form-label" for="basic-icon-default-falastname">Father's Last name</label>
                                  <div class="input-group input-group-merge">
                                      <span id="basic-icon-default-icon" class="input-group-text"><i class='bx bx-user'></i></span>
                                      <input
                                          type="text"
                                          id="basic-icon-default-falastname"
                                          class="form-control phone-mask"
                                          disabled
                                          aria-describedby="basic-icon-default-falastname"
                                      />
                                    </div>
                                </div>

                                <div class="mb-2"><hr>
                                  <label class="" for=""></label>
                                  <div class="">
                                      <span id="" class=""></span>
                                      <input hidden

                                      />
                                  </div>
                              </div>

                              <div class="mb-2">
                                <label class="form-label" for="basic-icon-default-">-</label>
                                <div class="input-group input-group-merge">
                                    <span id="basic-icon-default--icon"> </span>
                                    <input style="color: transparent; background-color: transparent; border: none;"
                                        type="text"
                                        id="basic-icon-default-"
                                        class="form-control phone-mask"
                                        disabled
                                    />
                                  </div>               
                              </div>

                              <div class="mb-2">
                                <label class="form-label" for="basic-icon-default-">-</label>
                                <div class="input-group input-group-merge">
                                    <span id="basic-icon-default--icon"> </span>
                                    <input style="color: transparent; background-color: transparent; border: none;"
                                        type="text"
                                        id="basic-icon-default-"
                                        class="form-control phone-mask"
                                        disabled
                                    />
                                  </div>               
                              </div>

                              <div class="mb-2">
                                <label class="form-label" for="basic-icon-default-strand">Strand</label>
                                <div class="input-group input-group-merge">
                                    <span id="basic-icon-default-icon" class="input-group-text"><i class='bx bx-book'></i></span>
                                    <input
                                        type="text"
                                        id="basic-icon-default-strand"
                                        class="form-control phone-mask"
                                        disabled
                                        aria-describedby="basic-icon-default-strand"
                                    />
                                  </div>
                              </div>

                              <div class="mb-2">
                                <label class="form-label" for="basic-icon-default-course">Course</label>
                                <div class="input-group input-group-merge">
                                    <span id="basic-icon-default-icon" class="input-group-text"><i class='bx bx-book'></i></span>
                                    <input
                                        type="text"
                                        id="basic-icon-default-course"
                                        class="form-control phone-mask"
                                        disabled
                                        aria-describedby="basic-icon-default-course"
                                    />
                                  </div>
                              </div>




                                     </div>


                                     </div>
<hr>
                                     <div class="card accordion-item">
                                      <h2 class="accordion-header" id="headingOne">
                                        <button
                                          type="button"
                                          class="accordion-button collapsed"
                                          data-bs-toggle="collapse"
                                          data-bs-target="#accordionOne"
                                          aria-expanded="false"
                                          aria-controls="accordionOne"
                                        >
                                          View SPES form
                                        </button>
                                      </h2>
                                    
                                      <div
                                        id="accordionOne"
                                        class="accordion-collapse collapse"
                                        aria-labelledby="headingOne"
                                        data-bs-parent="#accordionExample"
                                      >
                                        <div class="accordion-body">
                                          <iframe id="resumeIframe" class="iframe" style="width:100%; height:500px;"></iframe>
                                        </div>
                                      </div>
                                    </div>
                                    <hr>
                                    

                                    <div class="card accordion-item">
                                      <h2 class="accordion-header" id="headingTwo">
                                        <button
                                          type="button"
                                          class="accordion-button collapsed"
                                          data-bs-toggle="collapse"
                                          data-bs-target="#accordionTwo"
                                          aria-expanded="false"
                                          aria-controls="accordionTwo"
                                        >
                                          View Birth certificate
                                        </button>
                                      </h2>
                                      <div
                                        id="accordionTwo"
                                        class="accordion-collapse collapse"
                                        aria-labelledby="headingTwo"
                                        data-bs-parent="#accordionExample"
                                      >
                                        <div class="accordion-body">
                                          <iframe id="birthCertificateIframe" class="iframe" style="width:100%; height:500px;"></iframe>
                                        </div>
                                      </div>
                                    </div>

                                    <hr>
                                    <div class="card accordion-item">
                                      <h2 class="accordion-header" id="headingThree">
                                        <button
                                          type="button"
                                          class="accordion-button collapsed"
                                          data-bs-toggle="collapse"
                                          data-bs-target="#accordionThree"
                                          aria-expanded="false"
                                          aria-controls="accordionThree"
                                        >
                                          View Grades
                                        </button>
                                      </h2>
                                      <div
                                        id="accordionThree"
                                        class="accordion-collapse collapse"
                                        aria-labelledby="headingThree"
                                        data-bs-parent="#accordionExample"
                                      >
                                        <div class="accordion-body">
                                          <iframe id="gradesIframe" class="iframe" style="width:100%; height:500px;"></iframe>
                                        </div>
                                      </div>
                                    </div>
                                  
                                      </div>  
                                                                      
                                  <div class="modal-footer">
                                       <!-- Status -->
                                       <div class="mb-2">
                                       
                                        <div class="input-group input-group-merge">
                                            <span id="" class="input-group-text"><i class='bx bx-refresh'></i></span><hr>
                                            <select id="basic-icon-default-status" class="form-control btn btn-outline-dark" aria-describedby="basic-icon-default-status">
                                              <option value="Pending"> Pending</option>
                                              <option value="Under Review"> Under Review</option>
                                              <option value="Approved"> Approved</option>
                                              <option value="Rejected"> Rejected</option>
                                              
                                            </select>
                                                                          
                                        </div>
                                      </div><hr>
                                      <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Close</button>
                                      <button type="button" id="update-button" class="btn btn-primary">Update Status</button>
                                  </div>
                              </div>
                          </div>
                     


                        <script>
                          document.addEventListener('DOMContentLoaded', () => {
                              const viewButtons = document.querySelectorAll('.view-details');
                              const updateButton = document.getElementById('update-button'); // Changed to updateButton
                              const statusSelect = document.getElementById('basic-icon-default-status');
                              const resumeIframe = document.getElementById('resumeIframe');
                              const birthCertificateIframe = document.getElementById('birthCertificateIframe');
                              const gradesIframe = document.getElementById('gradesIframe');
                              const firstnameInput = document.getElementById('basic-icon-default-firstname');
                              const emailInput = document.getElementById('basic-icon-default-email');
                              const phoneInput = document.getElementById('basic-icon-default-phone');
                              const addressInput = document.getElementById('basic-icon-default-address');
                              const middleInput = document.getElementById('basic-icon-default-middlename');
                              const lastnameInput = document.getElementById('basic-icon-default-lastname');
                              const dateInput = document.getElementById('basic-icon-default-birthday');
                              const genderInput = document.getElementById('basic-icon-default-gender');
                              const spescivilInput = document.getElementById('basic-icon-default-spescivil');
                              const spestypeInput = document.getElementById('basic-icon-default-spestype');
                              const parentstatInput = document.getElementById('basic-icon-default-parentstat');
                              const mofirstnameInput = document.getElementById('basic-icon-default-mofirstname');
                              const momiddlenameInput = document.getElementById('basic-icon-default-momiddlename');
                              const molastnameInput = document.getElementById('basic-icon-default-molastname');
                              const fafirstnameInput = document.getElementById('basic-icon-default-fafirstname');
                              const famiddlenameInput = document.getElementById('basic-icon-default-famiddlename');
                              const falastnameInput = document.getElementById('basic-icon-default-falastname');
                              const elemschoolInput = document.getElementById('basic-icon-default-elemschool');
                              const junschoolInput = document.getElementById('basic-icon-default-junschool');
                              const elemgradInput = document.getElementById('basic-icon-default-elemgrad');
                              const jungradInput = document.getElementById('basic-icon-default-jungrad');
                              const sengradInput = document.getElementById('basic-icon-default-sengrad');
                              const senschoolInput = document.getElementById('basic-icon-default-senschool');
                              const strandInput = document.getElementById('basic-icon-default-strand');
                              const courseInput = document.getElementById('basic-icon-default-course');
                              const colschoolInput = document.getElementById('basic-icon-default-colschool');
                              const colgradInput = document.getElementById('basic-icon-default-colgrad');

                              
                              let applicationId; // Define applicationId variable outside
                      
                              // Function to display SweetAlert confirmation dialog
                              // Function to display SweetAlert confirmation dialog
                              
                                                            // Function to display SweetAlert confirmation dialog
                              function showConfirmationDialog() {
                                return Swal.fire({
                                    title: 'Are you sure?',
                                    text: 'You are about to update the status.',
                                    icon: 'warning',
                                    showCancelButton: true,
                                    confirmButtonColor: '#3085d6',
                                    cancelButtonColor: '#d33',
                                    confirmButtonText: 'Yes, update it!',
                                    showLoaderOnConfirm: true, // Show loader while waiting for confirmation
                                    preConfirm: () => {
                                        return new Promise((resolve) => {
                                            // Simulate a delay (e.g., AJAX request)
                                            setTimeout(() => {
                                                resolve(true); // Resolve the promise after the delay
                                            }, 1000);
                                        });
                                    }
                                });
                              }


                      
                              // Function to display success SweetAlert
                              function showSuccessAlert() {
                                Swal.fire({
                                    icon: 'success',
                                    title: 'Success!',
                                    text: 'Status has been updated successfully.',
                                    confirmButtonColor: '#3085d6',
                                    confirmButtonText: 'OK'
                                }).then((result) => {
                                    // Reload the page after the alert is closed
                                    if (result.isConfirmed) {
                                        location.reload();
                                    }
                                });
                              }

                              function updateStatus(applicationId, status) {
                                // Send an AJAX request to update the status
                                fetch('/update_status', {
                                    method: 'POST',
                                    headers: {
                                        'Content-Type': 'application/json',
                                    },
                                    body: JSON.stringify({
                                        applicationId: applicationId,
                                        status: status,
                                    }),
                                })
                                .then(response => {
                                    if (!response.ok) {
                                        throw new Error('Network response was not ok');
                                    }
                                    return response.json();
                                })
                                .then(data => {
                                    // Handle success
                                    console.log(data);
                                    // Remove loader
                                    const loader = document.querySelector('.loader');
                                    if (loader) {
                                        loader.remove();
                                    }
                                    // Show success message
                                    showSuccessAlert();
                                })
                                .catch(error => {
                                    // Handle error
                                    console.error('There was an error!', error);
                                    // Remove loader
                                    const loader = document.querySelector('.loader');
                                    if (loader) {
                                        loader.remove();
                                    }
                                });
                              }

                      
                              // Attach event listener to view buttons
                              viewButtons.forEach(button => {
                                  button.addEventListener('click', (e) => {
                                      e.preventDefault();
                      
                                      const row = button.closest('tr');
                                      applicationId = row.getAttribute('data-application-id'); // Assign value to applicationId
                                      const firstname = "  " + row.getAttribute('data-firstname');
                                      const middlename = "  " + row.getAttribute('data-middlename');
                                      const email = "  " + row.getAttribute('data-email');
                                      const phone = "  " + row.getAttribute('data-contact');
                                      const address = "  " + row.getAttribute('data-address');
                                      const resume = "  " + row.getAttribute('data-resume');
                                      const birthCertificate = "  " + row.getAttribute('data-birth-certificate');
                                      const grades = "  " + row.getAttribute('data-grades');
                                      const select = row.getAttribute('data-application-status');
                                      const lastname = "  " + row.getAttribute('data-lastname');
                                      const birthday = "  " + row.getAttribute('data-birthday');
                                      const gender = "  " + row.getAttribute('data-gender');
                                      const spescivil = "  " + row.getAttribute('data-spescivil');
                                      const spestype = "  " + row.getAttribute('data-spestype');
                                      const parentstat = "  " + row.getAttribute('data-parentstatus');
                                      const mofirstname = "  " + row.getAttribute('data-mofirstname');
                                      const momiddlename = "  " + row.getAttribute('data-momiddlename');
                                      const molastname = "  " + row.getAttribute('data-molastname');
                                      const fafirstname = "  " + row.getAttribute('data-fafirstname');
                                      const famiddlename = "  " + row.getAttribute('data-famiddlename');
                                      const falastname = "  " + row.getAttribute('data-falastname');
                                      const elemschool = "  " + row.getAttribute('data-elemschool');
                                      const junschool = "  " + row.getAttribute('data-junschool');
                                      const elemgrad = "  " + row.getAttribute('data-elemgrad');
                                      const jungrad = "  " + row.getAttribute('data-jungrad');
                                      const sengrad = "  " + row.getAttribute('data-sengrad');
                                      const senschool = "  " + row.getAttribute('data-senschool');
                                      const strand = "  " + row.getAttribute('data-strand');
                                      const course = "  " + row.getAttribute('data-course');
                                      const colschool = "  " + row.getAttribute('data-colschool');
                                      const colgrad = "  " + row.getAttribute('data-colgrad');
                                      

                                      console.log('Selected status:', select);
                      
                                      firstnameInput.value = firstname;
                                      emailInput.value = email;
                                      phoneInput.value = phone;
                                      addressInput.value = address;
                                      statusSelect.value = select;
                                      middleInput.value = middlename;
                                      lastnameInput.value = lastname;
                                      dateInput.value = birthday;
                                      genderInput.value = gender;
                                      spescivilInput.value = spescivil;
                                      spestypeInput.value = spestype;
                                      parentstatInput.value = parentstat;
                                      mofirstnameInput.value = mofirstname;
                                      momiddlenameInput.value = momiddlename;
                                      molastnameInput.value = molastname;
                                      fafirstnameInput.value = fafirstname;
                                      famiddlenameInput.value = famiddlename;
                                      falastnameInput.value = falastname;
                                      elemschoolInput.value = elemschool;
                                      junschoolInput.value = junschool;
                                      elemgradInput.value = elemgrad;
                                      jungradInput.value = jungrad;
                                      sengradInput.value = sengrad;
                                      senschoolInput.value = senschool;
                                      strandInput.value = strand;
                                      courseInput.value = course;
                                      colschoolInput.value = colschool;
                                      colgradInput.value = colgrad;

                                    
                      
                                      const resumePath = 'data:application/pdf;base64,' + resume;
                                      const birthCertificatePath = 'data:application/pdf;base64,' + birthCertificate;
                                      const gradesPath = 'data:application/pdf;base64,' + grades;
                      
                                      if (resumeIframe) {
                                          resumeIframe.src = resumePath;
                                      }
                                      if (birthCertificateIframe) {
                                          birthCertificateIframe.src = birthCertificatePath;
                                      }
                                      if (gradesIframe) {
                                          gradesIframe.src = gradesPath;
                                      }
                      
                                      // Show the modal containing applicant details
                                      $('#exLargeModal').modal('show');
                                  });
                              });
                      
                              // Remove previous event listener before adding a new one for the "Update Status" button
                              updateButton.removeEventListener('click', updateStatusHandler);
                      
                              // Update button click event
                              // Update button click event
                              function updateStatusHandler() {
                                const status = statusSelect.value;
                                // Show confirmation dialog
                                showConfirmationDialog().then((result) => {
                                    if (result.isConfirmed) {
                                        // Show loader while updating
                                        const loader = document.createElement('div');
                                        loader.classList.add('loader');
                                        document.body.appendChild(loader);

                                        // If confirmed, update status
                                        updateStatus(applicationId, status);
                                    }
                                });
                              }

                      
                              updateButton.addEventListener('click', updateStatusHandler);
                          });
                        </script>
                    
                    
                      
        
        
        
        
          
          

            <div class="content-backdrop fade"></div>
          </div>
          <!-- Content wrapper -->
        </div>
        <!-- / Layout page -->
      </div>

      <!-- Overlay -->
      <div class="layout-overlay layout-menu-toggle"></div>
    </div>
    <!-- / Layout wrapper -->


    <!-- Core JS -->
    <!-- build:js assets/vendor/js/core.js -->
    <script src="static/admin_assets/vendor/libs/jquery/jquery.js"></script>
    <script src="static/admin_assets/vendor/libs/popper/popper.js"></script>
    <script src="static/admin_assets/vendor/js/bootstrap.js"></script>
    <script src="static/admin_assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js"></script>

    <script src="static/admin_assets/vendor/js/menu.js"></script>
    <!-- endbuild -->

    <!-- Vendors JS -->

    <!-- Main JS -->
    <script src="static/admin_assets/js/main.js"></script>

    <!-- Page JS -->

    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
  </body>

  {% endblock %}